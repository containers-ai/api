// This file has messages and services related to Federator.ai

syntax = "proto3";

package containersai.alameda.v1alpha1.datahub;

import "alameda_api/v1alpha1/datahub/events/services.proto";
import "alameda_api/v1alpha1/datahub/gpu/services.proto";
import "alameda_api/v1alpha1/datahub/licenses/services.proto";
import "alameda_api/v1alpha1/datahub/metrics/services.proto";
import "alameda_api/v1alpha1/datahub/plannings/services.proto";
import "alameda_api/v1alpha1/datahub/predictions/services.proto";
import "alameda_api/v1alpha1/datahub/rawdata/services.proto";
import "alameda_api/v1alpha1/datahub/recommendations/services.proto";
import "alameda_api/v1alpha1/datahub/resources/services.proto";
import "alameda_api/v1alpha1/datahub/scores/services.proto";
import "alameda_api/v1alpha1/datahub/weavescope/services.proto";
import "google/protobuf/empty.proto";
import "google/rpc/status.proto";

option go_package = "github.com/containers-ai/api/alameda_api/v1alpha1/datahub";

// Service for providing data stored in the backend
service DatahubService {
    // Events --------------------------------------------------
    rpc CreateEvents(events.CreateEventsRequest)
        returns (google.rpc.Status){}

    rpc ListEvents(events.ListEventsRequest)
        returns (events.ListEventsResponse){}

    // GPU --------------------------------------------------
    rpc CreateGpuPredictions(gpu.CreateGpuPredictionsRequest)
        returns (google.rpc.Status){}

    rpc ListGpus(gpu.ListGpusRequest)
        returns (gpu.ListGpusResponse){}

    rpc ListGpuMetrics(gpu.ListGpuMetricsRequest)
        returns (gpu.ListGpuMetricsResponse){}

    rpc ListGpuPredictions(gpu.ListGpuPredictionsRequest)
        returns (gpu.ListGpuPredictionsResponse){}

    // Licenses --------------------------------------------------
    rpc GetLicense(google.protobuf.Empty)
        returns (licenses.GetLicenseResponse) {}

    // Metrics --------------------------------------------------
    rpc CreatePodMetrics(metrics.CreatePodMetricsRequest)
        returns (google.rpc.Status) {}

    rpc CreateNodeMetrics(metrics.CreateNodeMetricsRequest)
        returns (google.rpc.Status) {}

    rpc ListPodMetrics(metrics.ListPodMetricsRequest)
        returns (metrics.ListPodMetricsResponse) {}

    rpc ListNodeMetrics(metrics.ListNodeMetricsRequest)
        returns (metrics.ListNodeMetricsResponse) {}

    // Ping --------------------------------------------------
    rpc Ping(google.protobuf.Empty)
        returns (google.rpc.Status) {}

    // Plannings --------------------------------------------------
    rpc CreatePodPlannings(plannings.CreatePodPlanningsRequest)
        returns (google.rpc.Status) {}

    rpc CreateControllerPlannings(plannings.CreateControllerPlanningsRequest)
        returns (google.rpc.Status) {}

    rpc ListPodPlannings(plannings.ListPodPlanningsRequest)
        returns (plannings.ListPodPlanningsResponse) {}

    rpc ListControllerPlannings(plannings.ListControllerPlanningsRequest)
        returns (plannings.ListControllerPlanningsResponse) {}

    // Predictions --------------------------------------------------
    rpc CreateNodePredictions(predictions.CreateNodePredictionsRequest)
        returns (google.rpc.Status) {}

    rpc CreatePodPredictions(predictions.CreatePodPredictionsRequest)
        returns (google.rpc.Status) {}

    rpc ListNodePredictions(predictions.ListNodePredictionsRequest)
        returns (predictions.ListNodePredictionsResponse) {}

    rpc ListPodPredictions(predictions.ListPodPredictionsRequest)
        returns (predictions.ListPodPredictionsResponse) {}

    // Rawdata --------------------------------------------------
    rpc ReadRawdata(rawdata.ReadRawdataRequest)
        returns (rawdata.ReadRawdataResponse) {}

    rpc WriteRawdata(rawdata.WriteRawdataRequest)
        returns (google.rpc.Status) {}

    // Recommendations --------------------------------------------------
    rpc CreatePodRecommendations(recommendations.CreatePodRecommendationsRequest)
        returns (google.rpc.Status) {}

    rpc CreateControllerRecommendations(recommendations.CreateControllerRecommendationsRequest)
        returns (google.rpc.Status) {}

    rpc ListPodRecommendations(recommendations.ListPodRecommendationsRequest)
        returns (recommendations.ListPodRecommendationsResponse) {}

    rpc ListAvailablePodRecommendations(recommendations.ListPodRecommendationsRequest)
        returns (recommendations.ListPodRecommendationsResponse) {}

    rpc ListControllerRecommendations(recommendations.ListControllerRecommendationsRequest)
        returns (recommendations.ListControllerRecommendationsResponse) {}

    // Resources --------------------------------------------------
    // Used to list system scores
    rpc ListSimulatedSchedulingScores(scores.ListSimulatedSchedulingScoresRequest)
        returns (scores.ListSimulatedSchedulingScoresResponse) {}

    // Used to add pods that need to be predicted
    rpc CreatePods(resources.CreatePodsRequest)
        returns (google.rpc.Status){}

    rpc CreateControllers(resources.CreateControllersRequest)
        returns (google.rpc.Status){}

    // Used to add nodes that need to be predicted
    rpc CreateAlamedaNodes(resources.CreateAlamedaNodesRequest)
        returns (google.rpc.Status){}

    // Used to list pods need to be predicted
    rpc ListAlamedaPods(resources.ListAlamedaPodsRequest)
        returns (resources.ListPodsResponse){}

    // Used to list nodes need to be predicted
    rpc ListAlamedaNodes(resources.ListAlamedaNodesRequest)
        returns (resources.ListNodesResponse){}

    // Used to list nodes' information
    rpc ListNodes(resources.ListNodesRequest)
        returns (resources.ListNodesResponse){}

    rpc ListControllers(resources.ListControllersRequest)
        returns (resources.ListControllersResponse){}

    // Used to list pods by a node name
    rpc ListPodsByNodeName(resources.ListPodsByNodeNamesRequest)
        returns (resources.ListPodsResponse) {}

    // Used to delete info of pods
    rpc DeletePods(resources.DeletePodsRequest)
        returns (google.rpc.Status){}

    rpc DeleteControllers(resources.DeleteControllersRequest)
        returns (google.rpc.Status){}

    // Used to stop generating predictions for the nodes
    rpc DeleteAlamedaNodes(resources.DeleteAlamedaNodesRequest)
        returns (google.rpc.Status){}

    // Scores --------------------------------------------------
    rpc CreateSimulatedSchedulingScores(scores.CreateSimulatedSchedulingScoresRequest)
        returns (google.rpc.Status) {}

    // weave scope --------------------------------------------------
    rpc ListWeaveScopeHosts(weavescope.ListWeaveScopeHostsRequest)
        returns (weavescope.WeaveScopeResponse){}

    rpc GetWeaveScopeHostDetails(weavescope.ListWeaveScopeHostsRequest)
        returns (weavescope.WeaveScopeResponse){}

    rpc ListWeaveScopePods(weavescope.ListWeaveScopePodsRequest)
        returns (weavescope.WeaveScopeResponse){}

    rpc GetWeaveScopePodDetails(weavescope.ListWeaveScopePodsRequest)
        returns (weavescope.WeaveScopeResponse){}

    rpc ListWeaveScopeContainers(weavescope.ListWeaveScopeContainersRequest)
        returns (weavescope.WeaveScopeResponse){}

    rpc ListWeaveScopeContainersByHostname(weavescope.ListWeaveScopeContainersRequest)
        returns (weavescope.WeaveScopeResponse){}

    rpc ListWeaveScopeContainersByImage(weavescope.ListWeaveScopeContainersRequest)
        returns (weavescope.WeaveScopeResponse){}

    rpc GetWeaveScopeContainerDetails(weavescope.ListWeaveScopeContainersRequest)
        returns (weavescope.WeaveScopeResponse){}
}
