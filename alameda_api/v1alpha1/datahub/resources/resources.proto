// This file has messages related to compute resources

syntax = "proto3";

package containersai.alameda.v1alpha1.datahub.resources;

import "alameda_api/v1alpha1/datahub/resources/metadata.proto";
import "alameda_api/v1alpha1/datahub/resources/status.proto";
import "alameda_api/v1alpha1/datahub/resources/types.proto";
import "google/protobuf/timestamp.proto";

option go_package = "github.com/containers-ai/api/alameda_api/v1alpha1/datahub/resources";

// Represents a container and its containing limit and requeset configurations
message Container {
    string               name      = 1;
    ResourceRequirements resources = 2;
    ContainerStatus      status    = 3;
}

// Represents a Kubernetes pod
message Pod {
    ObjectMeta                object_meta      = 1;
    string                    resource_link    = 2;
    repeated Container        containers       = 3;
    bool                      is_alameda       = 4;
    google.protobuf.Timestamp start_time       = 5;
    Controller                top_controller   = 6;
    PodStatus                 status           = 7;
    string                    app_name         = 8;
    string                    app_part_of      = 9;
    AlamedaPodSpec            alameda_pod_spec = 10;
}

message Controller {
    ObjectMeta              object_meta             = 1;
    Kind                    kind                    = 2;
    repeated OwnerReference owner_references        = 3;
    int32                   replicas                = 4;
    int32                   spec_replicas           = 5;
    AlamedaControllerSpec   alameda_controller_spec = 6;
}

message Application {
    ObjectMeta object_meta = 1;
}

message Namespace {
    ObjectMeta object_meta = 1;
}

// Represents a Kubernetes node
message Node {
    ObjectMeta                object_meta        = 1;
    Capacity                  capacity           = 2;
    google.protobuf.Timestamp start_time         = 3;
    AlamedaNodeSpec           alameda_node_spec  = 4;
}

message Cluster {
    ObjectMeta object_meta = 1;
}
